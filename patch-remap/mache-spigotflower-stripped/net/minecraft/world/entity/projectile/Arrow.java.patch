--- a/net/minecraft/world/entity/projectile/Arrow.java
+++ b/net/minecraft/world/entity/projectile/Arrow.java
@@ -218,15 +213,15 @@
             mobeffectinstance = (MobEffectInstance) iterator.next();
             livingentity.addEffect(new MobEffectInstance(mobeffectinstance.getEffect(), Math.max(mobeffectinstance.mapDuration((i) -> {
                 return i / 8;
-            }), 1), mobeffectinstance.getAmplifier(), mobeffectinstance.isAmbient(), mobeffectinstance.isVisible()), entity);
+            }), 1), mobeffect.getAmplifier(), mobeffect.isAmbient(), mobeffect.isVisible()), entity, org.bukkit.event.entity.EntityPotionEffectEvent.Cause.ARROW); // CraftBukkit
         }
 
         if (!this.effects.isEmpty()) {
             iterator = this.effects.iterator();
 
             while (iterator.hasNext()) {
-                mobeffectinstance = (MobEffectInstance) iterator.next();
-                livingentity.addEffect(mobeffectinstance, entity);
+                mobeffect = (MobEffectInstance) iterator.next();
+                living.addEffect(mobeffect, entity, org.bukkit.event.entity.EntityPotionEffectEvent.Cause.ARROW); // CraftBukkit
             }
         }
 
