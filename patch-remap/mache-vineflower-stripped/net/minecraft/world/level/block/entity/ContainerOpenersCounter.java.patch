--- a/net/minecraft/world/level/block/entity/ContainerOpenersCounter.java
+++ b/net/minecraft/world/level/block/entity/ContainerOpenersCounter.java
@@ -11,6 +13,7 @@
 public abstract class ContainerOpenersCounter {
     private static final int CHECK_TICK_DELAY = 5;
     private int openCount;
+    public boolean opened; // CraftBukkit
 
     protected abstract void onOpen(Level level, BlockPos pos, BlockState state);
 
@@ -18,10 +21,38 @@
 
     protected abstract void openerCountChanged(Level level, BlockPos pos, BlockState state, int count, int openCount);
 
+    protected abstract void openerCountChanged(Level level, BlockPos pos, IBlockData state, int count, int openCount);
+
+    // CraftBukkit start
+    public void onAPIOpen(Level world, BlockPos blockposition, IBlockData iblockdata) {
+        onOpen(world, blockposition, iblockdata);
+    }
+
+    public void onAPIClose(Level world, BlockPos blockposition, IBlockData iblockdata) {
+        onClose(world, blockposition, iblockdata);
+    }
+
+    public void openerAPICountChanged(Level world, BlockPos blockposition, IBlockData iblockdata, int i, int j) {
+        openerCountChanged(world, blockposition, iblockdata, i, j);
+    }
+    // CraftBukkit end
+
     protected abstract boolean isOwnContainer(Player player);
 
-    public void incrementOpeners(Player player, Level level, BlockPos pos, BlockState state) {
+    public void incrementOpeners(Player player, Level level, BlockPos pos, IBlockData state) {
+        int oldPower = Math.max(0, Math.min(15, this.openCount)); // CraftBukkit - Get power before new viewer is added
         int i = this.openCount++;
+
+        // CraftBukkit start - Call redstone event
+        if (level.getBlockState(pos).is(net.minecraft.world.level.block.Blocks.TRAPPED_CHEST)) {
+            int newPower = Math.max(0, Math.min(15, this.openCount));
+
+            if (oldPower != newPower) {
+                org.bukkit.craftbukkit.event.CraftEventFactory.callRedstoneChange(level, pos, oldPower, newPower);
+            }
+        }
+        // CraftBukkit end
+
         if (i == 0) {
             this.onOpen(level, pos, state);
             level.gameEvent(player, GameEvent.CONTAINER_OPEN, pos);
@@ -31,8 +62,20 @@
         this.openerCountChanged(level, pos, state, i, this.openCount);
     }
 
-    public void decrementOpeners(Player player, Level level, BlockPos pos, BlockState state) {
+    public void decrementOpeners(Player player, Level level, BlockPos pos, IBlockData state) {
+        int oldPower = Math.max(0, Math.min(15, this.openCount)); // CraftBukkit - Get power before new viewer is added
         int i = this.openCount--;
+
+        // CraftBukkit start - Call redstone event
+        if (level.getBlockState(pos).is(net.minecraft.world.level.block.Blocks.TRAPPED_CHEST)) {
+            int newPower = Math.max(0, Math.min(15, this.openCount));
+
+            if (oldPower != newPower) {
+                org.bukkit.craftbukkit.event.CraftEventFactory.callRedstoneChange(level, pos, oldPower, newPower);
+            }
+        }
+        // CraftBukkit end
+
         if (this.openCount == 0) {
             this.onClose(level, pos, state);
             level.gameEvent(player, GameEvent.CONTAINER_CLOSE, pos);
@@ -57,12 +94,15 @@
         return level.getEntities(EntityTypeTest.forClass(Player.class), aABB, this::isOwnContainer).size();
     }
 
-    public void recheckOpeners(Level level, BlockPos pos, BlockState state) {
-        int openCount = this.getOpenCount(level, pos);
-        int i = this.openCount;
-        if (i != openCount) {
-            boolean flag = openCount != 0;
-            boolean flag1 = i != 0;
+    public void recheckOpeners(Level level, BlockPos pos, IBlockData state) {
+        int i = this.getOpenCount(level, pos);
+        if (opened) i++; // CraftBukkit - add dummy count from API
+        int j = this.openCount;
+
+        if (j != i) {
+            boolean flag = i != 0;
+            boolean flag1 = j != 0;
+
             if (flag && !flag1) {
                 this.onOpen(level, pos, state);
                 level.gameEvent(null, GameEvent.CONTAINER_OPEN, pos);
