--- a/net/minecraft/world/item/crafting/Ingredient.java
+++ b/net/minecraft/world/item/crafting/Ingredient.java
@@ -34,6 +35,7 @@
     private ItemStack[] itemStacks;
     @Nullable
     private IntList stackingIds;
+    public boolean exact; // CraftBukkit
     public static final Codec<Ingredient> CODEC = codec(true);
     public static final Codec<Ingredient> CODEC_NONEMPTY = codec(false);
 
@@ -60,8 +67,22 @@
         } else if (this.isEmpty()) {
             return stack.isEmpty();
         } else {
-            for (ItemStack itemStack : this.getItems()) {
-                if (itemStack.is(stack.getItem())) {
+            ItemStack[] aitemstack = this.getItems();
+            int i = aitemstack.length;
+
+            for (int j = 0; j < i; ++j) {
+                ItemStack itemstack1 = aitemstack[j];
+
+                // CraftBukkit start
+                if (exact) {
+                    if (itemstack1.getItem() == stack.getItem() && ItemStack.isSameItemSameTags(stack, itemstack1)) {
+                        return true;
+                    }
+
+                    continue;
+                }
+                // CraftBukkit end
+                if (itemstack1.is(stack.getItem())) {
                     return true;
                 }
             }
