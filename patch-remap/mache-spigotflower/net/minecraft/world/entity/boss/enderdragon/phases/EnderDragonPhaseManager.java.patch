--- a/net/minecraft/world/entity/boss/enderdragon/phases/EnderDragonPhaseManager.java
+++ b/net/minecraft/world/entity/boss/enderdragon/phases/EnderDragonPhaseManager.java
@@ -5,6 +5,11 @@
 import net.minecraft.world.entity.boss.enderdragon.EnderDragon;
 import org.slf4j.Logger;
 
+// CraftBukkit start
+import org.bukkit.craftbukkit.entity.CraftEnderDragon;
+import org.bukkit.event.entity.EnderDragonChangePhaseEvent;
+// CraftBukkit end
+
 public class EnderDragonPhaseManager {
 
     private static final Logger LOGGER = LogUtils.getLogger();
@@ -13,23 +18,36 @@
     @Nullable
     private DragonPhaseInstance currentPhase;
 
-    public EnderDragonPhaseManager(EnderDragon enderdragon) {
-        this.dragon = enderdragon;
+    public EnderDragonPhaseManager(EnderDragon dragon) {
+        this.dragon = dragon;
         this.setPhase(EnderDragonPhase.HOVERING);
     }
 
-    public void setPhase(EnderDragonPhase<?> enderdragonphase) {
-        if (this.currentPhase == null || enderdragonphase != this.currentPhase.getPhase()) {
+    public void setPhase(EnderDragonPhase<?> phase) {
+        if (this.currentPhase == null || phase != this.currentPhase.getPhase()) {
             if (this.currentPhase != null) {
                 this.currentPhase.end();
             }
 
-            this.currentPhase = this.getPhase(enderdragonphase);
+            // CraftBukkit start - Call EnderDragonChangePhaseEvent
+            EnderDragonChangePhaseEvent event = new EnderDragonChangePhaseEvent(
+                    (CraftEnderDragon) this.dragon.getBukkitEntity(),
+                    (this.currentPhase == null) ? null : CraftEnderDragon.getBukkitPhase(this.currentPhase.getPhase()),
+                    CraftEnderDragon.getBukkitPhase(phase)
+            );
+            this.dragon.level().getCraftServer().getPluginManager().callEvent(event);
+            if (event.isCancelled()) {
+                return;
+            }
+            phase = CraftEnderDragon.getMinecraftPhase(event.getNewPhase());
+            // CraftBukkit end
+
+            this.currentPhase = this.getPhase(phase);
             if (!this.dragon.level().isClientSide) {
-                this.dragon.getEntityData().set(EnderDragon.DATA_PHASE, enderdragonphase.getId());
+                this.dragon.getEntityData().set(EnderDragon.DATA_PHASE, phase.getId());
             }
 
-            EnderDragonPhaseManager.LOGGER.debug("Dragon is now in phase {} on the {}", enderdragonphase, this.dragon.level().isClientSide ? "client" : "server");
+            EnderDragonPhaseManager.LOGGER.debug("Dragon is now in phase {} on the {}", phase, this.dragon.level().isClientSide ? "client" : "server");
             this.currentPhase.begin();
         }
     }
@@ -38,13 +56,13 @@
         return this.currentPhase;
     }
 
-    public <T extends DragonPhaseInstance> T getPhase(EnderDragonPhase<T> enderdragonphase) {
-        int i = enderdragonphase.getId();
+    public <T extends DragonPhaseInstance> T getPhase(EnderDragonPhase<T> phase) {
+        int i = phase.getId();
 
         if (this.phases[i] == null) {
-            this.phases[i] = enderdragonphase.createInstance(this.dragon);
+            this.phases[i] = phase.createInstance(this.dragon);
         }
 
-        return this.phases[i];
+        return (T) this.phases[i]; // CraftBukkit - decompile error
     }
 }
