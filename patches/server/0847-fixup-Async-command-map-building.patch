From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Shane Freeder <theboyetronic@gmail.com>
Date: Sat, 4 Dec 2021 03:21:34 +0000
Subject: [PATCH] fixup! Async command map building


diff --git a/src/main/java/net/minecraft/commands/Commands.java b/src/main/java/net/minecraft/commands/Commands.java
index b7c24a7ff4dc50d03f74b21a0b353d0ce559b4d4..0766f272068248175bc929a145bafaf9efc8978d 100644
--- a/src/main/java/net/minecraft/commands/Commands.java
+++ b/src/main/java/net/minecraft/commands/Commands.java
@@ -350,9 +350,7 @@ public class Commands {
         // CraftBukkit start
         // Register Vanilla commands into builtRoot as before
         // Paper start - Async command map building
-        java.util.concurrent.ForkJoinPool.commonPool().execute(() -> {
-            sendAsync(player);
-        });
+        net.minecraft.server.MCUtil.scheduleAsyncTask(() -> this.sendAsync(player));
     }
 
     private void sendAsync(ServerPlayer player) {
